(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(64)},55:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(26),c=n.n(r),l=n(7),i=n(8),s=n(10),u=n(9),m=n(11),d=n(28),h=n(6),k=n(27),v=function(e){return o.a.createElement("div",{className:"header"},o.a.createElement("h4",null,"Google Books"),o.a.createElement("a",{href:"/"},"search"),o.a.createElement("a",{href:"/saved"},"saved"))},p=function(){return o.a.createElement("div",{className:"jumbotron text-center"},o.a.createElement("h1",null,"Find Your Books"),o.a.createElement("p",null,"Reading is an incredibly inexpensive hobby that provides so many benefits."))},f=function(e){return o.a.createElement("div",{className:"search-box"},o.a.createElement("h3",null,"Search Books"),o.a.createElement("p",null,"book"),o.a.createElement("input",{className:"form-control",placeholder:"enter book name",name:"search",value:e.name,onChange:e.handleInput}),o.a.createElement("button",{className:"btn btn-primary",onClick:e.handleClick}," search "))},b=function(e){return o.a.createElement("div",{className:"book-detail"},o.a.createElement("div",{className:"btn-save"},o.a.createElement("button",{className:"btn btn-primary","data-index":e.index,onClick:e.savedClick},"save"),o.a.createElement("button",{className:"btn btn-info","data-index":e.index,onClick:e.viewsContent},"view")),o.a.createElement("h3",null,e.title),o.a.createElement("h5",null,e.authors),o.a.createElement("h5",null,o.a.createElement("a",{href:e.previewLink},"Link to ",e.title)),o.a.createElement("div",{className:"description-image"},o.a.createElement("img",{alt:e.title,className:"img-fluid",src:e.image}),o.a.createElement("h5",{className:"description"},e.description)))};var E=function(e){return o.a.createElement("div",{className:"card"},o.a.createElement("div",{className:"card-header"},o.a.createElement("h2",null,e.heading)),o.a.createElement("div",{className:"card-body"},e.children))},g=n(13),w=n.n(g),C={search:function(e){return w.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},getBook:function(){return w.a.get("/api/books")},deleteBook:function(e){return w.a.delete("/api/books/"+e)},saveBook:function(e){return w.a.post("/api/books",e)}},N=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={result:[],search:""},n.searchBooks=function(e){C.search(e).then(function(e){var t=e.data.items.map(function(e){return e.volumeInfo});n.setState({result:t})}).catch(function(e){return console.log(e)})},n.handleInput=function(e){var t=e.target.value,a=e.target.name;n.setState(Object(k.a)({},a,t))},n.handleClick=function(e){e.preventDefault(),n.searchBooks(n.state.search),n.setState({search:" "})},n.viewsContent=function(e){e.preventDefault();var t=e.target.dataset.index,a=n.state.result[t];window.open(a.previewLink)},n.loadBooks=function(){C.getBook().then(function(e){return n.setState({book:e.data})}).catch(function(e){return console.log(e)})},n.savedClick=function(e){e.preventDefault();var t=e.target.dataset.index,a=n.state.result[t];a&&C.saveBook({title:a.title,authors:a.authors,link:a.previewLink,image:a.imageLinks.thumbnail,description:a.description}).then(function(e){return n.loadBooks()}).catch(function(e){return console.log(e)})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.searchBooks(""),this.loadBooks()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(v,null),o.a.createElement(p,null),o.a.createElement(f,{value:this.state.search,handleInput:this.handleInput,handleClick:this.handleClick}),o.a.createElement(E,{heading:"Search:"},this.state.result.length?this.state.result.map(function(t,n){return o.a.createElement(b,{key:n,index:n,title:t.title,authors:t.authors,description:t.description,image:t.imageLinks.thumbnail,previewLink:t.previewLink,viewsContent:e.viewsContent,savedClick:e.savedClick})}):o.a.createElement("h1",{className:"nobook"},"search for books to Display")))}}]),t}(a.Component),B=function(e){return o.a.createElement("div",{className:"book-detail"},o.a.createElement("div",{className:"btn-save"},o.a.createElement("button",{className:"btn btn-danger","data-index":e.index,onClick:function(){return e.deleteBooks(e.index)}},"delete"),o.a.createElement("button",{className:"btn btn-info","data-index":e.index,onClick:e.viewsContent},"view")),o.a.createElement("h3",null,e.title),o.a.createElement("h5",null,e.authors),o.a.createElement("h5",null,o.a.createElement("a",{href:e.link},"Link to ",e.title)),o.a.createElement("div",{className:"description-image"},o.a.createElement("img",{alt:e.title,className:"img-fluid",src:e.image}),o.a.createElement("h5",{className:"description"},e.description)))},x=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={book:[]},n.componentDidMount=function(){n.loadBooks()},n.loadBooks=function(){C.getBook().then(function(e){return n.setState({book:e.data})}).catch(function(e){return console.log(e)})},n.deleteBooks=function(e){C.deleteBook(e).then(function(e){return n.loadBooks()}).catch(function(e){return console.log(e)})},n.viewsContent=function(e){e.preventDefault();var t=e.target.dataset.index,a=n.state.book[t];window.open(a.link)},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(v,null),o.a.createElement(p,null),o.a.createElement(E,{heading:"saved books:"},this.state.book.length?this.state.book.map(function(t){return o.a.createElement(B,{key:t._id,index:t._id,title:t.title,authors:t.authors,description:t.description,image:t.image,link:t.link,viewsContent:e.viewsContent,deleteBooks:e.deleteBooks})}):o.a.createElement("h1",{className:"nobook"},"you have no books saved")))}}]),t}(a.Component),y=(n(55),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(d.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(h.a,{exact:!0,path:"/",component:N}),o.a.createElement(h.a,{exact:!0,path:"/search",component:N}),o.a.createElement(h.a,{exact:!0,path:"/saved",component:x})))}}]),t}(a.Component));c.a.render(o.a.createElement(y,null),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.c7b51298.chunk.js.map